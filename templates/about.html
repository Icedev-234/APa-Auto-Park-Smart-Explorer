<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <title>About</title>
    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Source+Sans+Pro:wght@400;600;700&display=swap"> 

    <link rel="stylesheet" href="/static/styles/header.css" >
    <link rel="stylesheet" href="/static/styles/about.css" >
    
    <link rel="icon" href="/static/images/logo_car.png" type="image/png">

    <!-- Pune iconitele la header-->
    <link rel="stylesheet"
    href="https://cdn.jsdelivr.net/npm/boxicons@latest/css/boxicons.min.css">

    <meta name="viewport" content="width=device-width, initial-scale=1">

  </head>
  
  <body>
      
    <header>
      <a href="/" class="logo">
          <i class='bx bxs-car'></i> APa
      </a>
      <ul class="navbar" id="navbar">
          <!-- Link-uri statice, vor fi completate dinamic cu JavaScript -->
      </ul>
      <div id="auth-controls">
          <!-- Butonul de login/logout, va fi completat dinamic cu JavaScript -->
      </div>
    </header>
  
    <div class="content">
        
            <div class="main">
            <h2>Welcome to Auto Park Smart Explorer</h2>
            <p>APa - Auto Park Smart Explorer is an online application for users who want to easily find detailed information about auto parks in Romania using public data provided by DATA.GOV via an API REST/GraphQL. Statistics as well as generated visualizations will be exportable in CSV, WebP, and SVG formats.</p>
            <h3>Features:</h3>
            <ul>
                <li>Visualize and compare data about auto parks</li>
                <li>Use public data from DATA.GOV via API REST/GraphQL</li>
                <li>Statistics and comparisons based on multiple criteria</li>
                <li>Generate at least three types of visualizations</li>
                <li>Export visualizations in CSV, WebP and SVG formats</li>
            </ul>
            <h3>Technologies Used:</h3>
            <ul>
                <li>HTML</li>
                <li>CSS</li>
                <li>PHP/Python</li>
                <li>REST/GraphQL API</li>
                <li>Formats:CSV, WebP, and SVG</li>
            </ul>
            </div>
        
    </div>

    <script src="/static/scripts/main.js"></script>

    <script>
        // JavaScript pentru a verifica starea de autentificare și a actualiza DOM-ul
        document.addEventListener('DOMContentLoaded', function() {
            const navbar = document.getElementById('navbar');
            const authControls = document.getElementById('auth-controls');
    
            if (isLoggedIn()) {
                // Utilizatorul este logat
                navbar.innerHTML = `
                    <li><a href="/about"><i class='bx bx-question-mark'></i> About</a></li>
                    <li><a href="/contact"><i class='bx bxs-contact'></i> Contact</a></li>
                    ${isAdminUser() ? '<li><a href="/admin"><i class="bx bx-cog"></i> Admin Module</a></li>' : ''}
                    <li><a href="/statistics"><i class='bx bx-stats'></i> Statistics</a></li>
                `;
                authControls.innerHTML = `
                    <form action="/logout" method="post">
                        <input type="hidden" name="next" value="/statistics">
                        <button type="submit" class="btn logout">Log off</button>
                    </form>
                `;
            } else {
                // Utilizatorul nu este logat
                navbar.innerHTML = `
                    <li><a href="/about"><i class='bx bx-question-mark'></i> About</a></li>
                    <li><a href="/contact"><i class='bx bxs-contact'></i> Contact</a></li>
                    <li><a href="/statistics"><i class='bx bx-stats'></i> Statistics</a></li>
                `;
                authControls.innerHTML = `
                    <a href="/login" class="btn">Log in</a>
                `;
            }
        });
    
        function isLoggedIn() {
            // Funcție care verifică dacă utilizatorul este logat bazat pe cookie-uri sau altă metodă
            const cookies = document.cookie.split(';').map(cookie => cookie.trim());
            for (const cookie of cookies) {
                if (cookie.startsWith('logged_in=')) {
                    return cookie.split('=')[1] === 'True';
                }
            }
            return false;
        }
    
        function isAdminUser() {
            const cookies = document.cookie.split(';').map(cookie => cookie.trim());
            for (const cookie of cookies) {
                if (cookie.startsWith('username=')) {
                    return cookie.split('=')[1] === 'admin';
                }
            }
            return false;
        }
    
      </script>
        
  </body>
</html>